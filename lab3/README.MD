# Лабораторная работа №3

## Текст задания

По варианту, выданному преподавателем, составить и выполнить запросы к базе данных "Учебный процесс".

Подключиться к базе данных ucheb:

> psql -h pg -d ucheb

Отчёт по лабораторной работе должен содержать:

- Текст задания.
- Реализацию запросов на SQL.
- Выводы по работе.

Темы для подготовки к защите лабораторной работы:

- SQL
- Соединение таблиц
- Подзапросы

## Реализация запросов на SQL

### Текст запросов


1) Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:

    Таблицы: Н_ЛЮДИ, Н_СЕССИЯ.

    Вывести атрибуты: Н_ЛЮДИ.ОТЧЕСТВО, Н_СЕССИЯ.УЧГОД.

    Фильтры (AND):
        a) Н_ЛЮДИ.ФАМИЛИЯ > Соколов.
        b) Н_СЕССИЯ.ДАТА < 2004-01-17.

    Вид соединения: RIGHT JOIN.

2) Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:

    Таблицы: Н_ЛЮДИ, Н_ВЕДОМОСТИ, Н_СЕССИЯ.

    Вывести атрибуты: Н_ЛЮДИ.ИД, Н_ВЕДОМОСТИ.ИД, Н_СЕССИЯ.ЧЛВК_ИД.

    Фильтры (AND):
        a) Н_ЛЮДИ.ИД = 100865.
        b) Н_ВЕДОМОСТИ.ДАТА > 2022-06-08.
        c) Н_СЕССИЯ.УЧГОД < 2003/2004.

    Вид соединения: LEFT JOIN.

3) Вывести число студентов ФКТИУ, которые не имеет отчества.

    Ответ должен содержать только одно число.

4) Выдать различные фамилии людей и число людей с каждой из этих фамилий, ограничив список фамилиями, встречающимися более 50 раз на на заочной форме обучения.

    Для реализации использовать соединение таблиц.

5) Выведите таблицу со средним возрастом студентов во всех группах (Группа, Средний возраст), где средний возраст меньше минимального возраста в группе 1100.

6) Получить список студентов, зачисленных до первого сентября 2012 года на первый курс заочной формы обучения. В результат включить:
    - номер группы;
    - номер, фамилию, имя и отчество студента;
    - номер и состояние пункта приказа;

    Для реализации использовать соединение таблиц.

7) Вывести список людей, не являющихся или не являвшихся студентами СПбГУ ИТМО (данные, о которых отсутствуют в таблице Н_УЧЕНИКИ). 

В запросе нельзя использовать DISTINCT.

### Код запросов

Выполняемые запросы доступны в следующих файлах:

- [q1](/lab3/query_1.sql)
- [q2](/lab3/query_2.sql)
- [q3](/lab3/query_3.sql)
- [q4](/lab3/query_4.sql)
- [q5](/lab3/query_5.sql)
- [q6](/lab3/query_6.sql)
- [q7](/lab3/query_7.sql)

## Выводы по работе

...
